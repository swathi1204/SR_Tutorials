{"ast":null,"code":"import { getEndpointFromInstructions } from \"./adaptors/getEndpointFromInstructions\";\nexport const endpointMiddleware = _ref => {\n  let {\n    config,\n    instructions\n  } = _ref;\n  return (next, context) => async args => {\n    const endpoint = await getEndpointFromInstructions(args.input, {\n      getEndpointParameterInstructions() {\n        return instructions;\n      }\n    }, {\n      ...config\n    }, context);\n    context.endpointV2 = endpoint;\n    context.authSchemes = endpoint.properties?.authSchemes;\n    const authScheme = context.authSchemes?.[0];\n    if (authScheme) {\n      context[\"signing_region\"] = authScheme.signingRegion;\n      context[\"signing_service\"] = authScheme.signingName;\n    }\n    return next({\n      ...args\n    });\n  };\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}